<html>
<head>
  <title>T-Schedule</title>
<style media="screen" type="text/css">

.btn-upload {
    position: relative;
    overflow: hidden;
    display: inline-block;
}
.btn-upload input[type=file] {
    position: absolute;
    opacity: 0;
    z-index: 0;
    max-width: 100%;
    height: 100%;
    display: block;
}
.btn-upload .btn{
    padding: 8px 20px;
    background: #337ab7;
    border: 1px solid #2e6da4;
    color: #fff;
    border: 0;
}
.btn-upload:hover .btn{
    padding: 8px 20px;
    background: #2e6da4;
    color: #fff;
    border: 0;
}

</style>

  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="/stylesheets/style.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-social/5.0.0/bootstrap-social.min.css" rel="stylesheet">

  <script src="https://use.fontawesome.com/190e87c6e2.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>

  <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.0.3/firebase.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase-storage.js"></script>
  <script>
    var config = {
      apiKey: "AIzaSyBI42nd8krKQuOxMvRaGYLy0IbgdVRhnrs",
      authDomain: "helloworld-73694.firebaseapp.com",
      databaseURL: "https://helloworld-73694.firebaseio.com",
      storageBucket: "helloworld-73694.appspot.com",
      messagingSenderId: "72134407615"
    };
    firebase.initializeApp(config);
  </script>

  <script>
      var auth = firebase.auth();
      auth.onAuthStateChanged(function(user) {
        if (!user) {
            window.location.href = "/";
        }
      });
  </script>
  <script src="javascripts/angularUser.js"></script>
</head>

<body ng-app="tschedule" ng-controller="UserCtrl">
    <div class="text-center">
        <div class="page-header" style="margin: 0px; background: #00254c;">
            <br />
            <h1 style="margin-top: 0px;">
                <a href="/"><font color="#eeb211">T-Schedule</font></a>
            </h1>
        </div>
    </div>

    <ul class="nav nav-pills centered test">
      <li role="presentation" class="active"><a href="#">Profile</a></li>
      <li role="presentation"><a href="/schedule">Schedule</a></li>
      <li role="presentation"><a href="/forum">Forums</a></li>
      <li role="presentation"><a href="#" ng-click="signout()">Sign out</a></li>
    </ul>
    <div class="container">
        <div class="row">
          <!-- left column -->
          <div class="col-md-3">
            <div class="text-center">
                <h1>{{username}}</h1>
            </div>
          </div>
        </div>
    	<div class="row">
          <!-- left column -->
          <div class="col-md-3">
            <div class="text-center">
              <img ng-src="{{photoURL}}" class="avatar img-circle" alt="user image" style="width: 200px; height: 200px">
			  <label class="btn-upload">
				<input type="file" name="fileupload" ng-model-instant onchange="angular.element(this).scope().upload_image(event)">
				<button class="btn">Upload New Image</button>
			  </label>
            </div>
          </div>

          <!-- edit form column -->
          <div class="col-md-9 personal-info">
            <!-- <div class="alert alert-info alert-dismissable">
              <a class="panel-close close" data-dismiss="alert">Ã—</a>
              <i class="fa fa-coffee"></i>
              This is an <strong>.alert</strong>. Use this to show important messages to the user.
            </div> -->
            <h3>Account info</h3>

            <form class="form-horizontal" role="form" ng-submit="updateInfo()">
              <div class="form-group">
                <label class="col-lg-3 control-label">Name:</label>
                <div class="col-lg-8">
                  <input class="form-control" type="text" ng-model="username">
                </div>
              </div>
              <div class="form-group">
                <label class="col-lg-3 control-label">Email:</label>
                <div class="col-lg-8">
                  <input class="form-control" ng-model="email" type="text">
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">New Password:</label>
                <div class="col-md-8">
                  <input class="form-control" ng-model="newPassword" type="password">
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label">Confirm new password:</label>
                <div class="col-md-8">
                  <input class="form-control" ng-model="confirmNewPassword" type="password">
                </div>
              </div>
              <div class="form-group">
                <label class="col-md-3 control-label"></label>
                <div class="col-md-8">
                  <button class="btn btn-primary" type="submit" style="background: #00254c; color: #eeb211">Save changes</button>
                  <span></span>
                  <a class="btn btn-default" ng-click="cancel()">Cancel</a>
                </div>
              </div>
            </form>


          </div>
      </div>
    </div>


    <div class="text-center">
        <br/>
        <hr />
        <p>
            T-Schedule is an online scheduling helper that aims to make life easier for Georgia Tech students! <a href="/contact">Contact us!</a>
        </p>
    </div>
</body>
</html>
